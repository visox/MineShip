/// <summary>
/// Computes point light attenuation.
/// </summary>
class PointShading : PointShadingBase, LightParameters
{
    override float3 GetAttenuation(int lightIndex)
    {
        // calculate basic attenuation
        float3 dirToLight = GetDirectionToLight(lightIndex);
        float lightDistance = length(dirToLight);
        float lightRadius = LightDecayStarts[lightIndex];
        float dr = max(lightDistance - lightRadius, 0)/lightRadius + 1;
        return 1 / (dr * dr);
        
        // Apply cutoff
        //attenuation = (attenuation - cutoff) / (1.0f - cutoff);
        //return max(attenuation, 0.0f);
    }
};